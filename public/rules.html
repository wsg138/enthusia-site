/* Rules page styles â€” scoped and mobile-first
   Keeps things consistent across iOS and desktop.
   Works alongside your existing assets/styles.css */

/* Brand vars (fallbacks if not already defined) */
:root{
  --bg: #0b0e13;
  --card:#10151f;
  --card-2:#0e131c;
  --text:#eaf0ff;
  --muted:#9fb0c2;
  --border:#1c2432;

  --brand-start:#ff3b3b; /* red */
  --brand-mid:#ff9a1a;   /* orange */
  --brand-end:#ffd93d;   /* yellow */

  --accent: linear-gradient(90deg,var(--brand-start),var(--brand-mid),var(--brand-end));
  --accent-soft: color-mix(in srgb, var(--brand-mid) 25%, #ffffff 75%);
}

/* Improve cross-platform consistency */
html{
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
body{
  background: var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  line-height: 1.55;
  letter-spacing: 0.2px;
}

/* Containers */
.container{
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: 16px;
}

/* Header spacing alignment with your theme */
.site-header .container{
  align-items: center;
}

/* Rules page */
.rules-page{
  padding-block: clamp(16px, 2vw, 28px);
}

.rules-header h1{
  font-size: clamp(1.35rem, 2.8vw, 2rem);
  line-height: 1.2;
  margin: 0 0 6px;
  letter-spacing: .2px;
}
.rules-header .subtle{
  color: var(--muted);
  margin: 0 0 18px;
}

.badge{
  font-size: .8rem;
  padding: 2px 8px;
  border-radius: 999px;
  background: var(--accent);
  color: #111;
  margin-left: 8px;
}

/* Layout: sticky TOC + content */
.rules-layout{
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
}

/* Sidebar TOC (desktop) */
.toc{
  display: none;
}

.toc .toc-inner{
  position: sticky;
  top: 84px; /* stays clear of header */
  background: linear-gradient(180deg, color-mix(in srgb, var(--card), #000 20%) 0%, var(--card) 100%);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px;
}
.toc-title{
  font-weight: 700;
  font-size: .9rem;
  letter-spacing: .3px;
  margin-bottom: 8px;
  background: var(--accent);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.toc ol{
  list-style: none;
  margin: 0;
  padding-left: 0;
}
.toc ol li{
  margin: 4px 0;
}
.toc a{
  display: inline-block;
  text-decoration: none;
  color: var(--text);
  font-size: .94rem;
  padding: 4px 6px;
  border-radius: 8px;
}
.toc a:hover{
  background: color-mix(in srgb, var(--card), #fff 6%);
}

/* Discord button in TOC */
.toc .btn.discord-cta{
  display: inline-block;
  margin-top: 10px;
  padding: 8px 10px;
  border-radius: 10px;
  background: var(--accent);
  color: #111;
  font-weight: 700;
  text-align: center;
  text-decoration: none;
}

/* Mobile TOC */
.toc-mobile{
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--card);
  padding: 10px 12px;
}
.toc-mobile summary{
  cursor: pointer;
  font-weight: 700;
}
.toc-mobile nav ol{
  margin: 8px 0 0;
  padding-left: 18px;
}
.toc-mobile a{
  color: var(--text);
  text-decoration: none;
}

/* Up to large mobile = single column */
@media (min-width: 980px){
  .rules-layout{
    grid-template-columns: 280px 1fr;
    gap: 22px;
  }
  .toc{ display: block; }
  .toc-mobile{ display: none; }
}

/* Content */
.prose{
  background: linear-gradient(180deg, var(--card) 0%, var(--card-2) 100%);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: clamp(14px, 2vw, 26px);
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}

.prose h2{
  font-size: clamp(1.05rem, 2.2vw, 1.4rem);
  margin: 8px 0 10px;
  line-height: 1.25;
}
.prose h3{
  font-size: clamp(.98rem, 2vw, 1.15rem);
  margin: 10px 0 6px;
}
.prose p{
  margin: 8px 0 10px;
}
.prose hr{
  border: none;
  border-top: 1px dashed var(--border);
  margin: 14px 0;
  opacity: .7;
}

/* Lists */
.prose ul{
  margin: 8px 0 10px;
  padding-left: 20px;
}
.prose ul li{
  margin: 6px 0;
}
.muted{
  color: var(--muted);
}

/* Links */
a.link{
  color: var(--text);
  text-decoration: underline;
  text-decoration-color: color-mix(in srgb, var(--text) 30%, transparent);
  text-underline-offset: 3px;
}

/* Back to top */
.back-top{
  margin-top: 18px;
  text-align: right;
}
.back-top a{
  color: var(--text);
  text-decoration: none;
  font-size: .95rem;
  padding: 6px 8px;
  border-radius: 8px;
  background: color-mix(in srgb, var(--card), #fff 4%);
}

/* Reduce iOS Safari tap highlight + smoother edges */
a, button { -webkit-tap-highlight-color: rgba(0,0,0,0); }
* { -webkit-font-smoothing: antialiased; }

/* Focus states (accessible) */
a:focus-visible, button:focus-visible, summary:focus-visible{
  outline: 2px solid var(--brand-end);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Small tweaks on very small screens */
@media (max-width: 380px){
  .rules-header h1{ word-break: break-word; }
}

/* Optional: if your global theme uses a light mode, these keep contrast solid */
@media (prefers-color-scheme: light){
  :root{
    --bg:#f7f8fc;
    --card:#ffffff;
    --card-2:#f9fafc;
    --text:#0b1220;
    --muted:#566477;
    --border:#e6e8ee;
  }
  .badge{ color: #111; }
}
